<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:c="http://java.sun.com/jsp/jstl/core" template="resources/templates/template.xhtml">

    <ui:define name="content">
        <h1>
            <h:outputFormat value="Bestellungen" />
        </h1>
        <br />
        <table>
            <tr>
                <td><b>Nr.</b></td>
                <td><b>Artikel</b></td>
                <td><b>Bestelldatum</b></td>
                <td><b>Status</b></td>
                <td><b>Kunde</b></td>
            </tr>
            <ui:repeat value="#{purchase.purchases}" var="singlePurchase">
                <tr>
                    <td><h:outputText value="#{singlePurchase.purchaseid}" /></td>
                    <td>
                        <ul>
                            <ui:repeat value="#{singlePurchase.purchaseitems}" var="purchaseitem">
                                <li><h:outputText value="#{purchaseitem.product.name}" /> <h:outputText
                                        value="&#160;" /> <h:outputText value="#{purchaseitem.quantity}" />x <h:outputText
                                        value="#{purchaseitem.product.unitprice}" />= <h:outputText
                                        value="#{purchaseitem.totalprice}" /></li>
                            </ui:repeat>

                        </ul>
                    </td>
                    <td><h:outputText value="#{singlePurchase.datetime}" /></td>
                    <td><h:outputText value="#{singlePurchase.state}" /></td>
                    <td><h:outputText value="#{singlePurchase.customer.name}" /></td>
                </tr>
            </ui:repeat>
        </table>
    </ui:define>
</ui:composition>