<?xml version="1.0" encoding="UTF-8" ?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:c="http://java.sun.com/jsp/jstl/core" template="resources/templates/template.xhtml">

    <ui:define name="content">
        <h1>
            <h:outputFormat value="Warenkorb" />
        </h1>
        <br />
        <h:form id="purchase_form" acceptcharset="UTF-8" enctype="application/x-www-form-urlencoded;charset=UTF-8">
            <table>
                <tr>
                    <td><b>Artikel-Nr.</b></td>
                    <td><b>Name</b></td>
                    <td><b>Menge</b></td>
                    <td><b>Total</b></td>
                </tr>
                <ui:repeat value="#{cart.purchaseitemList}" var="purchaseItem">
                    <tr>
                        <td><h:outputText value="#{purchaseItem.product.no}" /></td>
                        <td><h:outputText value="#{purchaseItem.product.description}" /></td>
                        <td><h:outputText value="#{purchaseItem.quantity}" /></td>
                        <td><h:outputText value="#{purchaseItem.totalprice}" /></td>
                    </tr>
                </ui:repeat>
            </table>
            <br />
            <h:commandButton rendered="#{customer.currentCustomer!=null}" value="Bestellen" action="#{cart.order()}" />
            <h:panelGroup rendered="#{customer.currentCustomer==null}" layout="block">
                Bitte melde dich an um zu bestellen...
            </h:panelGroup>
        </h:form>
    </ui:define>
</ui:composition>